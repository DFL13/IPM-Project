<!DOCTYPE html>
<html>
<head>
	<title>Prot√≥tipo iGo</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="style.css">
	<script type="text/javascript">
		var month = ["JAN", "FEB", "MAR", "APR", "MAY", "JUN", "JUL", "AUG", "SET", "OCT", "NOV", "DEC"];
		var weekday = ["SUN", "MON", "TUE", "WED", "THU", "FRI", "SAT"];

		/*var currentScreen = "lockscreen";
		var previousScreen = "main";*/
		var pageHistory = [];


		function updateClock() {
			var d = new Date();
			var times = document.getElementsByClassName("time");
			var dates = document.getElementsByClassName("date");
			var hours = d.getHours() < 10 ? "0"+d.getHours() : d.getHours();
			var minutes = d.getMinutes() < 10 ? "0"+d.getMinutes() : d.getMinutes();

			for (let i=0; i < times.length; i++) {
			    times[i].innerHTML = hours + ":" + minutes;
			}
			for (let i=0; i < dates.length; i++) {
			    dates[i].innerHTML = weekday[d.getDay()] + ", " + d.getDate() + " " + month[d.getMonth()];
			}

			setTimeout(updateClock, (60-d.getSeconds()+1)*1000);
		}

		/*function updateScreens(goingTo) {
			previousScreen = currentScreen;
			currentScreen = goingTo;
		}*/

		/*function goToHome() {
			if (currentScreen != "lockscreen") {
				var main = document.getElementsByClassName("main")[0];
				var current = document.getElementsByClassName(currentScreen)[0];
				main.classList.toggle("hidden");
				current.classList.toggle("hidden");
				previousScreen = "main";
				currentScreen = "main";
			}
		}*/
		function goToHome() {
			if (pageHistory.length>0 && pageHistory[pageHistory.length-1] != "lockscreen" && pageHistory[pageHistory.length-1] != "main") {
				var current = document.getElementsByClassName(pageHistory.pop())[0];
				var main = document.getElementsByClassName("main")[0];
				main.classList.toggle("hidden");
				current.classList.toggle("hidden");
				pageHistory = ["lockscreen", "main"];
			}
		}

		function turnOnOff() {
			if (pageHistory.length > 0) {
				var current = document.getElementsByClassName(pageHistory.pop())[0];
				current.classList.toggle("hidden");
				pageHistory = [];
			} else {
				var lockscreen = document.getElementsByClassName("lockscreen")[0];
				lockscreen.classList.toggle("hidden");
				pageHistory = ["lockscreen"];
			}
		}

		/*function goBack() {
			if (currentScreen != "lockscreen" && currentScreen != "main") {
				returnTo(previousScreen);
			}
		}*/
		function goBack() {
			if (pageHistory.length>0 && pageHistory[pageHistory.length-1] != "lockscreen" && pageHistory[pageHistory.length-1] != "main") {
				var current = document.getElementsByClassName(pageHistory.pop())[0];
				var previous = document.getElementsByClassName(pageHistory[pageHistory.length-1])[0];
				current.classList.toggle("hidden");
				previous.classList.toggle("hidden");
			}
		}

		function unlock() {
			var lockscreen = document.getElementsByClassName("lockscreen")[0];
			var main = document.getElementsByClassName("main")[0];
			lockscreen.classList.toggle("hidden");
			main.classList.toggle("hidden");
			/*updateScreens("main");*/
			pageHistory.push("main");
		}

		function openApp(appName) {
			var main = document.getElementsByClassName("main")[0];
			var app = document.getElementsByClassName(appName)[0];
			main.classList.toggle("hidden");
			app.classList.toggle("hidden");
			/*updateScreens(appName);*/
			pageHistory.push(appName);
		}

		/*function returnTo(goingTo) {
			var current = document.getElementsByClassName(currentScreen)[0];
			var next = document.getElementsByClassName(goingTo)[0];
			current.classList.toggle("hidden");
			next.classList.toggle("hidden");
			updateScreens(goingTo);
		}*/

		function showPost() {
			var app = document.getElementsByClassName("shareApp")[0];
			var post = document.getElementsByClassName("fullPost")[0];
			app.classList.toggle("hidden");
			post.classList.toggle("hidden");
			/*updateScreens(postName);*/
			pageHistory.push("fullPost");
		}

	</script>
</head>
<body onload="updateClock()">

	<div class="screen">
		<div class="outerBtn" id="btnL" onclick="turnOnOff()"></div>
		<div class="outerBtn" id="btnR" onclick="goBack()" ondblclick="goToHome()"></div>

		<div class="page lockscreen hidden">
			<div class="clock">
				<p class="time"></p>
				<p class="date"></p>
			</div>
			<div class="fingerprint" onclick="unlock()">	
				<img src="img/fingerprint.svg">
				<p>Scan...</p>
			</div>
		</div>

		<div class="page main hidden">
			<div class="clock">
				<p class="time"></p>
				<p class="date"></p>
			</div>
			<div class="appSlider">
				<div class="appIcon" onclick="openApp('shareApp')">
					<img src="img/share.svg" style="transform: translateX(-2px);">
				</div>
				<div class="appIcon" onclick="openApp('mapApp')">
					<img src="img/location-pin.svg">
				</div>
				<div class="appIcon" onclick="openApp('ticketApp')">
					<img src="img/concert-ticket.svg">
				</div>
			</div>
		</div>

		<div class="page shareApp hidden">
			<div class="content">
				<div class="col">
					<div class="postPreview">
						<div class="header">
							<img src="img/posts/david-marcu-4654-unsplash.jpg">
							<p>Johnny Depp</p>
						</div>
						<img src="img/posts/ales-krivec-24158-unsplash.jpg">
					</div>
					<div class="postPreview">
						<div class="header">
							<img src="img/posts/david-marcu-4654-unsplash.jpg">
							<p>Peter Parker</p>
						</div>
						<img src="img/posts/jacek-dylag-579738-unsplash.jpg">
					</div>
					<div class="postPreview">
						<div class="header">
							<img src="img/posts/david-marcu-4654-unsplash.jpg">
							<p>Jon Snow</p>
						</div>
						<img src="img/posts/ricardo-resende-803794-unsplash.jpg">
					</div>
				</div>
				<div class="col">
					<div class="postPreview" onclick="showPost()">
						<div class="header">
							<img src="img/posts/david-marcu-4654-unsplash.jpg">
							<p>Harry Potter</p>
						</div>
						<img src="img/posts/benjamin-voros-151769-unsplash.jpg">
					</div>
					<div class="postPreview" >
						<div class="header">
							<img src="img/posts/david-marcu-4654-unsplash.jpg">
							<p>Tony Stark</p>
						</div>
						<img src="img/posts/nikolay-vorobyev-470715-unsplash.jpg">
					</div>
					<div class="postPreview">
						<div class="header">
							<img src="img/posts/david-marcu-4654-unsplash.jpg">
							<p>Ryan Reynolds</p>
						</div>
						<img src="img/posts/margaret-barley-42-unsplash.jpg">
					</div>
				</div>
			</div>
			<div class="sidebar">
				<p class="time"></p>
				<div class="button btnFriends">
					<img src="img/group-of-people.svg">
				</div>
				<div class="button btnAddPost">
					<img src="img/add-note-black-interface-square-symbol.svg">
				</div>
			</div>
		</div>

		<div class="page fullPost hidden">
			<div class="content">
				<div class="post">
					<div class="header">
						<img src="img/posts/david-marcu-4654-unsplash.jpg">
						<p class="name">Harry Potter</p>
						<p class="place">Lisbon, Portugal</p>
					</div>
					<img src="img/posts/benjamin-voros-151769-unsplash.jpg">
					<div class="postInfoBar">
						<img src="img/up-arrow.svg">
						<p class="upvotes">63</p>
						<p class="postDate">10 MAR 2019</p>
					</div>
					<div class="commentSection">
						<div class="comment">
							<div class="header">
								<img src="img/posts/david-marcu-4654-unsplash.jpg">
								<p>Jon Snow</p>
							</div>
							<div class="commentBody">
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
							</div>
						</div>
						<div class="comment">
							<div class="header">
								<img src="img/posts/david-marcu-4654-unsplash.jpg">
								<p>Jon Snow</p>
							</div>
							<div class="commentBody">
								<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="sidebar">
				<p class="time"></p>
				<div class="button btnCancel" onclick="goBack()">
					<img src="img/close-cross.svg">
				</div>
			</div>
		</div>	

	</div>


</body>
</html>